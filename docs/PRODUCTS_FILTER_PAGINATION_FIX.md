# ๐ง ุฅุตูุงุญ ุงูููุชุฑุฉ ูุงูู Pagination ูู ุดุงุดุฉ ุงูุฃุตูุงู

## ๐ ููุฎุต ุงูุชุญุฏูุซุงุช

ุชู ุฅุตูุงุญ ูุชุญุณูู ุดุงุดุฉ ุงูุฃุตูุงู ุจุดูู ูุงูู ูุญู ูุดุงูู ุงูููุชุฑุฉ ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู.

---

## ๐ ุงููุดุงูู ุงูุชู ุชู ุญููุง

### 1. **ูุดููุฉ ููุชุฑุฉ ุงูุดุฑูุงุช**
- **ุงููุดููุฉ ุงูุณุงุจูุฉ:** ุนูุฏ ููุชุฑุฉ ุงูุฃุตูุงู ุญุณุจ ุงูุดุฑูุฉุ ูู ูุธูุฑ ุฃู ูุชุงุฆุฌ ูููุณุชุฎุฏููู ุงูุนุงุฏููู
- **ุงูุณุจุจ:** ุชุนุงุฑุถ ุจูู ุดุฑุท `createdByCompanyId: userCompanyId` ูููุชุฑ `companyId` ูู ุงูู frontend
- **ุงูุญู:** 
  - ูููุณุชุฎุฏููู ุงูุนุงุฏููู: ูุฑูู ููุท ุฃุตูุงู ุดุฑูุชูู (ุชุฌุงูู ููุชุฑ ุงูุดุฑูุงุช ูู ุงููุงุฌูุฉ)
  - ููุณุชุฎุฏูู ุงููุธุงู: ูููููู ุงูููุชุฑุฉ ุจุฃู ุดุฑูุฉ ุฃู ุฑุคูุฉ ุฌููุน ุงูุฃุตูุงู

### 2. **ูุดููุฉ ููุชุฑุฉ ุงููุญุฏุงุช**
- **ุงููุดููุฉ ุงูุณุงุจูุฉ:** ุนูุฏ ุงุฎุชูุงุฑ ูุญุฏุฉ ูุนููุฉุ ูู ูุชู ุชุทุจูู ุงูููุชุฑ ุจุดูู ุตุญูุญ
- **ุงูุณุจุจ:** ุนุฏู ูุนุงูุฌุฉ ูููุฉ "ุงููู" ูู ุงูู backend
- **ุงูุญู:** ุฅุถุงูุฉ ุดุฑุท `if (unit && unit !== 'ุงููู')` ูุจู ุชุทุจูู ุงูููุชุฑ

---

## โจ ุงูุชุญุณููุงุช ุงูุฌุฏูุฏุฉ

### 1. **Pagination ูุญุณูู**

#### ููุดุงุดุงุช ุงูุตุบูุฑุฉ (Mobile):
- ุฒุฑ ุงูุณุงุจู ูุงูุชุงูู ูุน ุนุฏุงุฏ ูุงุถุญ (ูฃ/ูฅ)
- ุชุนุทูู ุงูุฃุฒุฑุงุฑ ุนูุฏ ุงููุตูู ููุญุฏูุฏ

#### ููุดุงุดุงุช ุงููุจูุฑุฉ (Desktop):
- ุฃุฒุฑุงุฑ ุงูุงูุชูุงู ููุตูุญุฉ ุงูุฃููู ูุงูุฃุฎูุฑุฉ
- ุนุฑุถ 7 ุฃุฒุฑุงุฑ ุตูุญุงุช ูุญุฏ ุฃูุตู ูุน ุชูุฑูุฑ ุฐูู
- ูุคุดุฑุงุช ุจุตุฑูุฉ ูุงุถุญุฉ ููุตูุญุฉ ุงูุญุงููุฉ
- ุนุฑุถ ุนุฏุฏ ุงููุชุงุฆุฌ ุจุงูุฃุฑูุงู ุงูุนุฑุจูุฉ

```typescript
// ูุซุงู ุนูู ุงูููุฏ
{(() => {
  const maxButtons = 7; // ุฃูุตู ุนุฏุฏ ุฃุฒุฑุงุฑ ุชุธูุฑ
  const pages = pagination.pages;
  let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));
  let endPage = Math.min(pages, startPage + maxButtons - 1);
  // ...
})()}
```

### 2. **ูุงุฌูุฉ ููุชุฑุฉ ูุญุณููุฉ**

#### ูุคุดุฑุงุช ุจุตุฑูุฉ:
- โ ุญุฏูุฏ ุฒุฑูุงุก ููุญููู ุงููุดุทุฉ
- โ ุฃููููุงุช ร ููุณุญ ูู ููุชุฑ ุนูู ุญุฏุฉ
- โ ุฒุฑ "ูุณุญ ุงูููุงุชุฑ" ุดุงูู ูู ุฃุนูู ุงููุณู

#### ุดุฑูุท ุงูููุงุชุฑ ุงููุดุทุฉ:
```
ุงูููุงุชุฑ ุงููุดุทุฉ:
[๐ ุงุณู: ุจูุงุท ร] [ุดุฑูุฉ ุงูุชูุงุฒู ร] [ุตูุฏูู ร] [ูุชููุฑุฉ ร]
```

#### ุชุญุณููุงุช UX:
- **ุญููู ุงูุจุญุซ:** 
  - ูุณุญ ุณุฑูุน ุจุฒุฑ ร ุฏุงุฎู ุงูุญูู
  - ุชูููุฒ ูุฑุฆู ุนูุฏ ุงููุชุงุจุฉ
  
- **ุงูููุงุฆู ุงูููุณุฏูุฉ:**
  - ุฃููููุฉ ุณูู ููุฃุณูู ูุงุถุญุฉ
  - ุชูููุฒ ูุฑุฆู ุนูุฏ ุงูุงุฎุชูุงุฑ
  - ุฎุท ุนุฑูุถ ููููู ุงููุฎุชุงุฑุฉ

### 3. **ุชูุณูู ุนุตุฑู**
- ุฃููุงู ูุชูุงุณูุฉ ูุน ูุธุงู ุงูุชุตููู
- ุงูุชูุงูุงุช ุณูุณุฉ ุจูู ุงูุญุงูุงุช
- ุฏุนู ูุงูู ููู Dark Mode
- ุงุณุชุฌุงุจุฉ ููุชุงุฒุฉ ูุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### 1. Backend: `server/src/services/ProductService.ts`

```typescript
// ูุจู
const whereConditions: Prisma.ProductWhereInput = {
  ...(isSystemUser !== true && { createdByCompanyId: userCompanyId }),
};

// ุจุนุฏ
const whereConditions: Prisma.ProductWhereInput = {};

// ููุชุฑุฉ ุญุณุจ ุงูุดุฑูุฉ
if (isSystemUser) {
  // ูุณุชุฎุฏู ุงููุธุงู: ููููู ููุชุฑุฉ ุจุฃู ุดุฑูุฉ ุฃู ุฑุคูุฉ ุงููู
  if (companyId) {
    whereConditions.createdByCompanyId = companyId;
  }
} else {
  // ูุณุชุฎุฏู ุนุงุฏู: ูุฑู ููุท ุฃุตูุงู ุดุฑูุชู
  whereConditions.createdByCompanyId = userCompanyId;
}

// ุฅุถุงูุฉ ุดุฑุท ุงููุญุฏุฉ
if (unit && unit !== 'ุงููู') {
  whereConditions.unit = unit;
}
```

### 2. Frontend: `client/src/app/products/page.tsx`

#### ุงูุชุญุฏูุซุงุช:
- โ ูุณู ููุชุฑุฉ ูุงูู ูุญุณูู ูุน ูุคุดุฑุงุช ุจุตุฑูุฉ
- โ ุดุฑูุท ุงูููุงุชุฑ ุงููุดุทุฉ (Active Filters Bar)
- โ Pagination ูุชูุฏู ูุน ุฃุฒุฑุงุฑ ุฃููู/ุฃุฎูุฑุฉ
- โ ุนุฑุถ ุฐูู ูุฃุฒุฑุงุฑ ุงูุตูุญุงุช (7 ุฃุฒุฑุงุฑ ูุญุฏ ุฃูุตู)
- โ ุฃุฑูุงู ุนุฑุจูุฉ ูู ุฌููุน ุงูุนุฏุงุฏุงุช
- โ ุฃุฒุฑุงุฑ ูุณุญ ุณุฑูุน ููู ููุชุฑ

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. **ุงุฎุชุจุงุฑ ููุชุฑุฉ ุงูุดุฑูุงุช:**
```bash
# ููุณุชุฎุฏู ูุธุงู:
1. ุณุฌู ุฏุฎูู ููุณุชุฎุฏู ูุธุงู (admin/superadmin)
2. ุงูุชุญ ุดุงุดุฉ ุงูุฃุตูุงู
3. ุฌุฑุจ ููุชุฑุฉ ุงูุฃุตูุงู ุญุณุจ ุงูุดุฑูุงุช ุงููุฎุชููุฉ
4. ูุฌุจ ุฃู ุชุธูุฑ ุฃุตูุงู ุงูุดุฑูุฉ ุงููุฎุชุงุฑุฉ ููุท

# ููุณุชุฎุฏู ุนุงุฏู:
1. ุณุฌู ุฏุฎูู ููุณุชุฎุฏู ุดุฑูุฉ (ูุซูุงู ุดุฑูุฉ ุงูุชูุงุฒู)
2. ุงูุชุญ ุดุงุดุฉ ุงูุฃุตูุงู
3. ุญุงูู ููุชุฑุฉ ุงูุฃุตูุงู ุญุณุจ ุดุฑูุฉ ุฃุฎุฑู
4. ูุฌุจ ุฃู ุชุฑู ููุท ุฃุตูุงู ุดุฑูุชู (ุงูุชูุงุฒู)
```

### 2. **ุงุฎุชุจุงุฑ ููุชุฑุฉ ุงููุญุฏุงุช:**
```bash
1. ุงุฎุชุฑ ูุญุฏุฉ ูุนููุฉ ูู ุงููุงุฆูุฉ (ูุซูุงู "ุตูุฏูู")
2. ูุฌุจ ุฃู ุชุธูุฑ ููุท ุงูุฃุตูุงู ุจูุญุฏุฉ "ุตูุฏูู"
3. ุฌุฑุจ "ูุทุนุฉ"ุ "ููุณ"ุ "ูุชุฑ"
4. ุงุฎุชุฑ "ุฌููุน ุงููุญุฏุงุช" ููุนูุฏุฉ ูุนุฑุถ ุงููู
```

### 3. **ุงุฎุชุจุงุฑ Pagination:**
```bash
# ููุดุงุดุงุช ุงููุจูุฑุฉ:
1. ุงูุชุญ ุดุงุดุฉ ุงูุฃุตูุงู ุนูู ุญุงุณูุจ
2. ุฌุฑุจ ุงูุฃุฒุฑุงุฑ: ุฃูููุ ุณุงุจูุ ุชุงููุ ุฃุฎูุฑุฉ
3. ุฌุฑุจ ุงูููุฑ ุนูู ุฃุฑูุงู ุงูุตูุญุงุช
4. ุชุฃูุฏ ูู ุชุนุทูู ุงูุฃุฒุฑุงุฑ ุนูุฏ ุงูุญุฏูุฏ

# ููุดุงุดุงุช ุงูุตุบูุฑุฉ:
1. ุงูุชุญ ุดุงุดุฉ ุงูุฃุตูุงู ุนูู ูุงุชู
2. ุฌุฑุจ ุฒุฑู ุงูุณุงุจู ูุงูุชุงูู
3. ุชุญูู ูู ุนุฏุงุฏ ุงูุตูุญุงุช (ูฃ/ูฅ)
```

### 4. **ุงุฎุชุจุงุฑ ูุณุญ ุงูููุงุชุฑ:**
```bash
1. ูุนูู ุนุฏุฉ ููุงุชุฑ ูุนุงู (ุจุญุซ + ุดุฑูุฉ + ูุญุฏุฉ)
2. ูุงุญุธ ุธููุฑ ุดุฑูุท "ุงูููุงุชุฑ ุงููุดุทุฉ"
3. ุฌุฑุจ ูุณุญ ููุชุฑ ูุงุญุฏ ูู ุงูุดุฑูุท (ุฒุฑ ร)
4. ุฌุฑุจ ุฒุฑ "ูุณุญ ุงูููุงุชุฑ" ุงูุฑุฆูุณู
```

---

## ๐ฏ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ูุจู ุงูุฅุตูุงุญ:
- โ ููุชุฑุฉ ุงูุดุฑูุงุช ูุง ุชุนูู ูููุณุชุฎุฏููู ุงูุนุงุฏููู
- โ ููุชุฑุฉ ุงููุญุฏุงุช ุบูุฑ ุฏูููุฉ
- โ Pagination ุฃุณุงุณู ุฌุฏุงู
- โ ูุง ุชูุฌุฏ ุทุฑููุฉ ุณููุฉ ููุณุญ ุงูููุงุชุฑ
- โ ุนุฏู ูุถูุญ ุงูููุงุชุฑ ุงููุดุทุฉ

### ุจุนุฏ ุงูุฅุตูุงุญ:
- โ ููุชุฑุฉ ุงูุดุฑูุงุช ุชุนูู ุจุดูู ุตุญูุญ ูุฌููุน ุฃููุงุน ุงููุณุชุฎุฏููู
- โ ููุชุฑุฉ ุงููุญุฏุงุช ุฏูููุฉ 100%
- โ Pagination ุงุญุชุฑุงูู ูุน ุชููู ุณูู
- โ ูุณุญ ุณุฑูุน ููููุงุชุฑ (ูุฑุฏู ุฃู ุดุงูู)
- โ ุฑุคูุฉ ูุงุถุญุฉ ููููุงุชุฑ ุงููุดุทุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ

---

## ๐ธ ูุซุงู ุนูู ุงููุงุฌูุฉ ุงูุฌุฏูุฏุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ุงูุจุญุซ ูุงูููุชุฑุฉ               [โ ูุณุญ ุงูููุงุชุฑ]   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [๐ ุจุญุซ ุจุงูุงุณู...] [#๏ธโฃ ุจุญุซ ุจุงูููุฏ...]            โ
โ [๐ข ุฌููุน ุงูุดุฑูุงุช โผ] [๐ฆ ุฌููุน ุงููุญุฏุงุช โผ]          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงูููุงุชุฑ ุงููุดุทุฉ:                                     โ
โ [๐ ุงุณู: ุจูุงุท ร] [ุดุฑูุฉ ุงูุชูุงุฒู ร] [ุตูุฏูู ร]        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ุฌุฏูู ุงูุฃุตูุงู                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุนุฑุถ ูก ุฅูู ูกู ูู ูกูขูฅ ูุชูุฌุฉ                          โ
โ [โฎ๏ธ ุฃููู] [โ๏ธ ุณุงุจู] [ูก] [ูข] [ูฃ] ... [ุชุงูู โถ๏ธ] [โญ๏ธ ุฃุฎูุฑุฉ] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุงุฎุชุจุงุฑ ุดุงูู** ููุชุฃูุฏ ูู ุนูู ุฌููุน ุงูููุงุชุฑ
2. **ูุฑุงูุจุฉ ุฃุฏุงุก** ุงูู API ูุน ุงูููุชุฑุฉ
3. **ุฌูุน ููุงุญุธุงุช ุงููุณุชุฎุฏููู** ุนูู ุงูุชุญุณููุงุช ุงูุฌุฏูุฏุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ูููุทูุฑูู:
- ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูู backend ุจุนุฏ ุงูุชุญุฏูุซ
- ุงูููุชุฑุฉ ุงูุขู ุชุนุชูุฏ ุนูู ููุน ุงููุณุชุฎุฏู (`isSystemUser`)
- ุฌููุน ุงูุฃุฑูุงู ุชูุนุฑุถ ุจุงูุนุฑุจูุฉ ุจุงุณุชุฎุฏุงู `formatArabicNumber()`

### ูููุณุชุฎุฏููู:
- ุงููุณุชุฎุฏููู ุงูุนุงุฏููู ูุฑูู ููุท ุฃุตูุงู ุดุฑูุชูู
- ูุณุชุฎุฏูู ุงููุธุงู ูููููู ุฑุคูุฉ ูููุชุฑุฉ ุฌููุน ุงูุฃุตูุงู
- ุงูููุงุชุฑ ุชูุญูุธ ูู ุญุงูุฉ ุงููุชุตูุญ ููุง ุชูุญูุธ ุจุดูู ุฏุงุฆู

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2025-11-03  
**ุงูุฅุตุฏุงุฑ:** 2.0.0  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุฅูุชุงุฌ


