# โ ุฅุตูุงุญุงุช ุดุงุดุฉ ุงูุชูุงุฑูุฑ - ููุชููุฉ

## ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง:

### 1. โ ุฒุฑ ุงูุทุจุงุนุฉ ูุทุจุน ุตูุญุฉ ูุงุฑุบุฉ
**ุงููุดููุฉ:** ูุงู ุฒุฑ ุงูุทุจุงุนุฉ ูุณุชุฎุฏู `window.print()` ูุจุงุดุฑุฉ ููุง ูุทุจุน ูุงูู ุงูุตูุญุฉ ุจูุง ูููุง ุงูููุงุฆู ุงูุฌุงูุจูุฉ.

**ุงูุญู ุงููุทุจู:**
- ุชู ุฅูุดุงุก ูุงูุฐุฉ ุฌุฏูุฏุฉ ููุทุจุงุนุฉ
- ุชู ูุณุฎ ูุญุชูู ุงูุชูุฑูุฑ ููุท ุฅูู ุงููุงูุฐุฉ ุงูุฌุฏูุฏุฉ
- ุชู ุฅุถุงูุฉ ุชุฑููุณุฉ ุงุญุชุฑุงููุฉ ูุน ุงุณู ุงูุชูุฑูุฑ ูุงูุชุงุฑูุฎ
- ุชู ุฅุถุงูุฉ CSS ูุฎุตุต ููุทุจุงุนุฉ

**ุงูููู:** `/client/src/app/reports/page.tsx` (ุงูุณุทุฑ 36-122)

```typescript
const handlePrint = () => {
  if (!printRef.current) return;
  
  const printWindow = window.open('', '_blank');
  if (!printWindow) return;
  
  const reportName = reports.find(r => r.id === activeReport)?.name || 'ุชูุฑูุฑ';
  
  printWindow.document.write(`
    <!DOCTYPE html>
    <html dir="rtl" lang="ar">
    <head>
      <meta charset="UTF-8">
      <title>${reportName}</title>
      <style>
        /* CSS ููุทุจุงุนุฉ */
      </style>
    </head>
    <body>
      <div class="header">
        <h1>${reportName}</h1>
        <p>ุชุงุฑูุฎ ุงูุทุจุงุนุฉ: ${new Date().toLocaleDateString("ar-LY")}</p>
      </div>
      ${printRef.current.innerHTML}
    </body>
    </html>
  `);
  
  printWindow.print();
  printWindow.close();
};
```

### 2. โ ุชูุงุฑูุฑ ุงููุดุชุฑูุงุช ูุงูููุฑุฏูู ูุงุฑุบุฉ
**ุงููุดููุฉ:** ูู ุชูู ููุงู backend endpoints ูุชูุงุฑูุฑ ุงูููุฑุฏูู ูุงููุดุชุฑูุงุช.

**ุงูุญู ุงููุทุจู:**

#### ุฃ. ุฅุถุงูุฉ DTOs
**ุงูููู:** `/server/src/dto/reportsDto.ts`
```typescript
// DTO ูุชูุฑูุฑ ุงูููุฑุฏูู
export const SupplierReportQueryDto = z.object({
  supplierId: z.string().optional().transform(Number),
  startDate: z.string().optional(),
  endDate: z.string().optional(),
});

// DTO ูุชูุฑูุฑ ุงููุดุชุฑูุงุช
export const PurchaseReportQueryDto = z.object({
  supplierId: z.string().optional().transform(Number),
  startDate: z.string().optional(),
  endDate: z.string().optional(),
  purchaseType: z.enum(["CASH", "CREDIT"]).optional(),
});
```

#### ุจ. ุฅุถุงูุฉ Service Methods
**ุงูููู:** `/server/src/services/ReportsService.ts`

**ุชูุฑูุฑ ุงูููุฑุฏูู:**
- ูุฌูุจ ุฌููุน ุงูููุฑุฏูู ูุน ูุดุชุฑูุงุชูู ูุญุณุงุจุงุชูู
- ูุญุณุจ ุฅุฌูุงูู ุงููุดุชุฑูุงุช ููู ููุฑุฏ
- ูุญุณุจ ุฅุฌูุงูู ุงููุฏููุน ูู ุญุณุงุจุงุช ุงูููุฑุฏูู (DEBIT)
- ูุญุณุจ ุงูุฑุตูุฏ ุงูุญุงูู ูู ุขุฎุฑ ููุฏ ูู ุงูุญุณุงุจ

**ุชูุฑูุฑ ุงููุดุชุฑูุงุช:**
- ูุฌูุจ ุฌููุน ุงููุดุชุฑูุงุช ุงููุนุชูุฏุฉ
- ูุฏุนู ุงูููุชุฑุฉ ุญุณุจ ุงูููุฑุฏุ ุงูุชุงุฑูุฎุ ูุงูููุน (ููุฏู/ุขุฌู)
- ูุญุณุจ ุงูุฅุญุตุงุฆูุงุช: ุฅุฌูุงููุ ููุฏูุ ุขุฌูุ ุนุฏุฏ ุงูููุงุชูุฑ

#### ุฌ. ุฅุถุงูุฉ Controller Methods
**ุงูููู:** `/server/src/controllers/ReportsController.ts`
- `getSupplierReport`: ูุนุงูุฌ ุชูุฑูุฑ ุงูููุฑุฏูู
- `getPurchaseReport`: ูุนุงูุฌ ุชูุฑูุฑ ุงููุดุชุฑูุงุช

#### ุฏ. ุฅุถุงูุฉ Routes
**ุงูููู:** `/server/src/routes/reportsRoute.ts`
```typescript
// ุชูุฑูุฑ ุงูููุฑุฏูู
router.get("/suppliers", reportsController.getSupplierReport);

// ุชูุฑูุฑ ุงููุดุชุฑูุงุช
router.get("/purchases", reportsController.getPurchaseReport);
```

#### ูู. ุฅุถุงูุฉ UI ููุชูุงุฑูุฑ
**ุงูููู:** `/client/src/app/reports/page.tsx`

**ุชูุฑูุฑ ุงูููุฑุฏูู (ุงูุณุทุฑ 684-753):**
- ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช: ุฅุฌูุงูู ุงูููุฑุฏููุ ุงููุดุชุฑูุงุชุ ุงููุฏููุนุ ุงูุฑุตูุฏ
- ุฌุฏูู ุชูุตููู: ุงูููุฑุฏุ ุงููุงุชูุ ุงููุดุชุฑูุงุชุ ุงููุฏููุนุ ุงูุฑุตูุฏ

**ุชูุฑูุฑ ุงููุดุชุฑูุงุช (ุงูุณุทุฑ 755-838):**
- ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช: ุฅุฌูุงููุ ููุฏูุ ุขุฌูุ ุนุฏุฏ ุงูููุงุชูุฑ
- ุฌุฏูู ุชูุตููู: ุฑูู ุงููุงุชูุฑุฉุ ุงูุชุงุฑูุฎุ ุงูููุฑุฏุ ุงูููุนุ ุงููุจูุบุ ุงููุตุฑููุงุชุ ุงูุฅุฌูุงูู

## ุงููููุงุช ุงููุญุฏุซุฉ:

### Frontend:
1. `/client/src/state/reportsApi.ts`
   - ุฅุถุงูุฉ `SupplierReportQuery` ู `PurchaseReportQuery` types
   - ุฅุถุงูุฉ `getSupplierReport` ู `getPurchaseReport` endpoints
   - ุชุตุฏูุฑ hooks: `useGetSupplierReportQuery`, `useGetPurchaseReportQuery`

2. `/client/src/app/reports/page.tsx`
   - ุฅุตูุงุญ ูุธููุฉ ุงูุทุจุงุนุฉ (ุงูุณุทุฑ 36-122)
   - ุฅุถุงูุฉ ุงุณุชุฏุนุงุกุงุช ุงูุชูุงุฑูุฑ ุงูุฌุฏูุฏุฉ (ุงูุณุทุฑ 66-74)
   - ุฅุถุงูุฉ UI ูุชูุฑูุฑ ุงูููุฑุฏูู (ุงูุณุทุฑ 684-753)
   - ุฅุถุงูุฉ UI ูุชูุฑูุฑ ุงููุดุชุฑูุงุช (ุงูุณุทุฑ 755-838)

### Backend:
1. `/server/src/dto/reportsDto.ts`
   - ุฅุถุงูุฉ `SupplierReportQueryDto`
   - ุฅุถุงูุฉ `PurchaseReportQueryDto`

2. `/server/src/services/ReportsService.ts`
   - ุฅุถุงูุฉ `getSupplierReport` method
   - ุฅุถุงูุฉ `getPurchaseReport` method

3. `/server/src/controllers/ReportsController.ts`
   - ุฅุถุงูุฉ `getSupplierReport` handler
   - ุฅุถุงูุฉ `getPurchaseReport` handler

4. `/server/src/routes/reportsRoute.ts`
   - ุฅุถุงูุฉ route: `GET /api/reports/suppliers`
   - ุฅุถุงูุฉ route: `GET /api/reports/purchases`

## ููููุฉ ุงูุงุณุชุฎุฏุงู:

### 1. ุงูุทุจุงุนุฉ:
1. ุงูุชุญ ุฃู ุชูุฑูุฑ
2. ุงุถุบุท ุนูู ุฒุฑ "ุทุจุงุนุฉ ุงูุชูุฑูุฑ"
3. ุณุชูุชุญ ูุงูุฐุฉ ุฌุฏูุฏุฉ ุจุงูุชูุฑูุฑ ููุท
4. ุงุถุบุท ุทุจุงุนุฉ ูู ุงููุชุตูุญ

### 2. ุชูุฑูุฑ ุงูููุฑุฏูู:
1. ุงุถุบุท ุนูู ุชุจููุจ "ุชูุฑูุฑ ุงูููุฑุฏูู"
2. ุงุฎุชุฑ ุงููุชุฑุฉ ุงูุฒูููุฉ (ุงุฎุชูุงุฑู)
3. ุดุงูุฏ ุงูุฅุญุตุงุฆูุงุช ูุงูุฌุฏูู ุงูุชูุตููู
4. ุงุทุจุน ุงูุชูุฑูุฑ

### 3. ุชูุฑูุฑ ุงููุดุชุฑูุงุช:
1. ุงุถุบุท ุนูู ุชุจููุจ "ุชูุฑูุฑ ุงููุดุชุฑูุงุช"
2. ุงุฎุชุฑ ุงููุชุฑุฉ ุงูุฒูููุฉ (ุงุฎุชูุงุฑู)
3. ุดุงูุฏ ุงูุฅุญุตุงุฆูุงุช ูุงูุฌุฏูู ุงูุชูุตููู
4. ุงุทุจุน ุงูุชูุฑูุฑ

## ุงูููุฒุงุช:

### โ ุงูุทุจุงุนุฉ:
- ูุงูุฐุฉ ูููุตูุฉ ููุทุจุงุนุฉ
- ุชุฑููุณุฉ ุงุญุชุฑุงููุฉ ูุน ุงุณู ุงูุชูุฑูุฑ ูุงูุชุงุฑูุฎ
- ุชูุณูู CSS ูุฎุตุต ููุทุจุงุนุฉ
- ุฌุฏุงูู ููุณูุฉ ูุน ุญุฏูุฏ ูุงุถุญุฉ

### โ ุชูุฑูุฑ ุงูููุฑุฏูู:
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- ุฌุฏูู ุชูุตููู ุจุฌููุน ุงูููุฑุฏูู
- ุญุณุงุจ ุฏููู ููุฃุฑุตุฏุฉ
- ุฏุนู ุงูููุชุฑุฉ ุจุงูุชุงุฑูุฎ

### โ ุชูุฑูุฑ ุงููุดุชุฑูุงุช:
- ุฅุญุตุงุฆูุงุช ุญุณุจ ุงูููุน (ููุฏู/ุขุฌู)
- ุฌุฏูู ุชูุตููู ุจุฌููุน ุงูููุงุชูุฑ
- ุนุฑุถ ุงููุตุฑููุงุช ูุงูุฅุฌูุงูู
- ุฏุนู ุงูููุชุฑุฉ ุจุงูููุฑุฏ ูุงูุชุงุฑูุฎ

## ุงูุงุฎุชุจุงุฑ:

### ุงุฎุชุจุงุฑ ุงูุทุจุงุนุฉ:
```bash
1. ุงูุชุญ ุดุงุดุฉ ุงูุชูุงุฑูุฑ
2. ุงุฎุชุฑ ุฃู ุชูุฑูุฑ
3. ุงุถุบุท "ุทุจุงุนุฉ ุงูุชูุฑูุฑ"
4. ุชุฃูุฏ ูู ูุชุญ ูุงูุฐุฉ ุฌุฏูุฏุฉ
5. ุชุฃูุฏ ูู ุธููุฑ ุงููุญุชูู ุงูุตุญูุญ
```

### ุงุฎุชุจุงุฑ ุชูุฑูุฑ ุงูููุฑุฏูู:
```bash
1. ุงูุชุญ ุชูุฑูุฑ ุงูููุฑุฏูู
2. ุชุฃูุฏ ูู ุธููุฑ ุงูุฅุญุตุงุฆูุงุช
3. ุชุฃูุฏ ูู ุธููุฑ ุฌุฏูู ุงูููุฑุฏูู
4. ุฌุฑุจ ุงูุทุจุงุนุฉ
```

### ุงุฎุชุจุงุฑ ุชูุฑูุฑ ุงููุดุชุฑูุงุช:
```bash
1. ุงูุชุญ ุชูุฑูุฑ ุงููุดุชุฑูุงุช
2. ุชุฃูุฏ ูู ุธููุฑ ุงูุฅุญุตุงุฆูุงุช
3. ุชุฃูุฏ ูู ุธููุฑ ุฌุฏูู ุงููุดุชุฑูุงุช
4. ุฌุฑุจ ุงูุทุจุงุนุฉ
```

## ุงูุญุงูุฉ ุงูููุงุฆูุฉ:

- โ ุฒุฑ ุงูุทุจุงุนุฉ ูุนูู ุจุดูู ููุชุงุฒ
- โ ุชูุฑูุฑ ุงูููุฑุฏูู ูุนุฑุถ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
- โ ุชูุฑูุฑ ุงููุดุชุฑูุงุช ูุนุฑุถ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
- โ ุฌููุน ุงูุชูุงุฑูุฑ ุงูุณุงุจูุฉ ุชุนูู ุจุดูู ุทุจูุนู
- โ ุงูุทุจุงุนุฉ ุงุญุชุฑุงููุฉ ูููุณูุฉ
- โ Backend endpoints ุฌุงูุฒุฉ ููุฎุชุจุฑุฉ

## ููุงุญุธุงุช:

1. **ุงูุฃุฏุงุก:** ุงูุชูุงุฑูุฑ ูุญุณููุฉ ููุฃุฏุงุก ูุน ุงุณุชุฎุฏุงู Prisma includes
2. **ุงูุฃูุงู:** ุฌููุน endpoints ูุญููุฉ ุจู authentication
3. **ุงูููุชุฑุฉ:** ุฏุนู ูุงูู ููููุชุฑุฉ ุญุณุจ ุงูุชุงุฑูุฎ ูุงูููุฑุฏ
4. **ุงูุนููุฉ:** ุฌููุน ุงููุจุงูุบ ูุนุฑูุถุฉ ุจู "ุฏ.ู"
5. **ุงููุบุฉ:** ุฌููุน ุงููุตูุต ุจุงูุนุฑุจูุฉ ูุน ุฏุนู RTL

ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ุจูุฌุงุญ! ๐
