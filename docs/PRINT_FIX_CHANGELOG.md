# ุฅุตูุงุญ ูุดููุฉ ุฒุฑ ุงูุทุจุงุนุฉ ๐ง

## ุงูุชุงุฑูุฎ: 2025-09-30

## ุงููุดููุฉ
ุฒุฑ ุงูุทุจุงุนุฉ ูููุงุชูุฑุฉ ูุฅูุตุงู ุงููุจุถ ูุง ูุนูู.

## ุงูุณุจุจ
- ุงุณุชุฎุฏุงู `window.print()` ูุจุงุดุฑุฉ ูุงู ูุทุจุน ูู ูุญุชูู ุงูุตูุญุฉ
- ุงูู CSS ููุทุจุงุนุฉ ูู ููู ูุนูู ุจุดูู ุตุญูุญ
- ุนุฏู ุนุฒู ูุญุชูู ุงูุทุจุงุนุฉ ุนู ุจุงูู ุงูุตูุญุฉ

## ุงูุญู ุงููุทุจู

### 1. ุฅูุดุงุก ูุงูุฐุฉ ููุจุซูุฉ ููุทุจุงุนุฉ
ุจุฏูุงู ูู `window.print()` ูุจุงุดุฑุฉุ ุชู:
- ูุชุญ ูุงูุฐุฉ ุฌุฏูุฏุฉ ููุจุซูุฉ
- ูุณุฎ ูุญุชูู ุงูุทุจุงุนุฉ ููุท
- ุชุทุจูู ุงูุฃููุงุท ุงููุทููุจุฉ
- ุงูุทุจุงุนุฉ ุงูุชููุงุฆูุฉ ูุฅุบูุงู ุงููุงูุฐุฉ

### 2. ุงูููุฏ ุงููุญุฏุซ

```typescript
const handlePrint = () => {
  if (!printRef.current || !sale) return;

  // ุฅูุดุงุก ูุงูุฐุฉ ุฌุฏูุฏุฉ ููุทุจุงุนุฉ
  const printWindow = window.open('', '_blank', 'width=800,height=600');
  if (!printWindow) {
    alert('ูุฑุฌู ุงูุณูุงุญ ุจูุชุญ ุงูููุงูุฐ ุงูููุจุซูุฉ ููุทุจุงุนุฉ');
    return;
  }

  // ุงูุญุตูู ุนูู ูุญุชูู ุงูุทุจุงุนุฉ
  const printContent = printRef.current.innerHTML;

  // ูุชุงุจุฉ ุงููุญุชูู ูู ุงููุงูุฐุฉ ุงูุฌุฏูุฏุฉ
  printWindow.document.write(`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
    <head>
      <meta charset="UTF-8">
      <title>ุทุจุงุนุฉ ูุงุชูุฑุฉ ${sale?.invoiceNumber || sale?.id}</title>
      <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; direction: rtl; }
        @media print {
          .print-invoice, .print-receipt { page-break-after: always; }
        }
        @page { size: A4; margin: 0; }
      </style>
    </head>
    <body>
      ${printContent}
      <script>
        window.onload = function() {
          window.print();
          window.onafterprint = function() {
            window.close();
          };
        };
      </script>
    </body>
    </html>
  `);

  printWindow.document.close();
};
```

### 3. ุงูุชุญุณููุงุช

#### ุฃ. ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
```typescript
if (!printRef.current || !sale) return;
```

#### ุจ. ูุนุงูุฌุฉ ุงูููุงูุฐ ุงููุญุธูุฑุฉ
```typescript
if (!printWindow) {
  alert('ูุฑุฌู ุงูุณูุงุญ ุจูุชุญ ุงูููุงูุฐ ุงูููุจุซูุฉ ููุทุจุงุนุฉ');
  return;
}
```

#### ุฌ. ุงูุทุจุงุนุฉ ุงูุชููุงุฆูุฉ
```typescript
window.onload = function() {
  window.print();
  window.onafterprint = function() {
    window.close(); // ุฅุบูุงู ุงููุงูุฐุฉ ุจุนุฏ ุงูุทุจุงุนุฉ
  };
};
```

#### ุฏ. ุฅุฒุงูุฉ ุงูุฃููุงุท ุงูููุฑุฑุฉ
- ุญุฐู `<style jsx global>` ูู ููุงูุฉ ุงููููู
- ุงูุฃููุงุท ุงูุขู ูุถููุฉ ูู ุงููุงูุฐุฉ ุงูููุจุซูุฉ ููุท

## ุงููุชูุฌุฉ

### โ ูุง ุชู ุฅุตูุงุญู:
1. **ุงูุทุจุงุนุฉ ุชุนูู ุงูุขู** - ุชูุชุญ ูุงูุฐุฉ ููุจุซูุฉ ููุทุจุงุนุฉ
2. **ูุญุชูู ุตุญูุญ** - ูุทุจุน ุงููุงุชูุฑุฉ ูุฅูุตุงู ุงููุจุถ ููุท
3. **ุชูุณูู ุตุญูุญ** - ุงูุฃููุงุท ุชุทุจู ุจุดูู ุตุญูุญ
4. **ุฅุบูุงู ุชููุงุฆู** - ุงููุงูุฐุฉ ุชุบูู ุจุนุฏ ุงูุทุจุงุนุฉ ุฃู ุงูุฅูุบุงุก

### ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู:

1. ุงุฐูุจ ูุตูุญุฉ ุงููุจูุนุงุช
2. ุงุถุบุท ุฒุฑ ๐จ๏ธ ุจุฌุงูุจ ุงููุงุชูุฑุฉ
3. ุณุชูุชุญ ูุงูุฐุฉ ุงููุนุงููุฉ
4. ุงุถุบุท "ุทุจุงุนุฉ"
5. ุณุชูุชุญ ูุงูุฐุฉ ููุจุซูุฉ ุฌุฏูุฏุฉ
6. ูุฑุจุน ุญูุงุฑ ุงูุทุจุงุนุฉ ุณูุธูุฑ ุชููุงุฆูุงู
7. ุงุฎุชุฑ ุงูุทุงุจุนุฉ ูุงุทุจุน
8. ุงููุงูุฐุฉ ุณุชุบูู ุชููุงุฆูุงู

### โ๏ธ ููุงุญุธุฉ ูููุฉ:

ุฅุฐุง ูู ุชุนูู ุงูุทุจุงุนุฉ:
- **ุชุฃูุฏ ูู ุงูุณูุงุญ ุจุงูููุงูุฐ ุงูููุจุซูุฉ** ูู ุงููุชุตูุญ
- ูู Chrome: ุงููุฑ ุนูู ุฃููููุฉ ๐ซ ูู ุดุฑูุท ุงูุนููุงู ูุงุฎุชุฑ "ุงูุณูุงุญ ุฏุงุฆูุงู"
- ูู Firefox: ุงููุฑ ุนูู "ุชูุถููุงุช" โ "ุงูุณูุงุญ ุจุงูููุงูุฐ ุงูููุจุซูุฉ"

## ุงููููุงุช ุงููุญุฏุซุฉ

- โ `/client/src/components/sales/PrintModal.tsx` - ุฅุตูุงุญ ุฏุงูุฉ ุงูุทุจุงุนุฉ

## ุงูุงุฎุชุจุงุฑ

### ุงูุณููุงุฑูู 1: ูุงุชูุฑุฉ ููุฏูุฉ
```
1. ุฃูุดุฆ ูุงุชูุฑุฉ ูุจูุนุงุช ููุฏูุฉ
2. ุงุถุบุท ุฒุฑ ุงูุทุจุงุนุฉ
3. ุชุญูู ูู:
   โ ูุชุญ ูุงูุฐุฉ ููุจุซูุฉ
   โ ุธููุฑ ูุฑุจุน ุญูุงุฑ ุงูุทุจุงุนุฉ
   โ ุทุจุงุนุฉ ุงููุงุชูุฑุฉ (ุตูุญุฉ 1)
   โ ุทุจุงุนุฉ ุฅูุตุงู ุงููุจุถ (ุตูุญุฉ 2)
   โ ุฅุบูุงู ุงููุงูุฐุฉ ุชููุงุฆูุงู
```

### ุงูุณููุงุฑูู 2: ูุงุชูุฑุฉ ุขุฌูุฉ
```
1. ุฃูุดุฆ ูุงุชูุฑุฉ ูุจูุนุงุช ุขุฌูุฉ
2. ุงุถุบุท ุฒุฑ ุงูุทุจุงุนุฉ
3. ุชุญูู ูู:
   โ ูุชุญ ูุงูุฐุฉ ููุจุซูุฉ
   โ ุธููุฑ ูุฑุจุน ุญูุงุฑ ุงูุทุจุงุนุฉ
   โ ุทุจุงุนุฉ ุงููุงุชูุฑุฉ ููุท (ุตูุญุฉ ูุงุญุฏุฉ)
   โ ุฅุบูุงู ุงููุงูุฐุฉ ุชููุงุฆูุงู
```

## ุงููุชุตูุญุงุช ุงููุฏุนููุฉ

- โ Chrome / Edge (Chromium)
- โ Firefox
- โ Safari
- โ Opera

## ุงูุฎูุงุตุฉ

โ **ุงููุดููุฉ ูุญูููุฉ ุจุงููุงูู**
โ **ุงูุทุจุงุนุฉ ุชุนูู ุจุดูู ุตุญูุญ**
โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ**
โ **ูุชูุงูู ูุน ุฌููุน ุงููุชุตูุญุงุช**

---

**ุชู ุงูุฅุตูุงุญ ุจูุฌุงุญ!** ๐
