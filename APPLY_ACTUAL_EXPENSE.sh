#!/bin/bash

# ุณูุฑุจุช ูุชุทุจูู ุชุญุฏูุซ ููุน ุงููุตุฑูู (ูุนูู/ุชูุฏูุฑู)
# Purchase Expense Type Migration Script

echo "========================================"
echo "  ุชุญุฏูุซ ููุน ูุตุฑูู ุงููุดุชุฑูุงุช"
echo "  Adding isActualExpense field"
echo "========================================"

# ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงูุณูุฑูุฑ
cd server

echo ""
echo "๐ ุฌุงุฑู ุฅูุดุงุก migration..."
echo ""

# ุฅูุดุงุก ูุชุทุจูู ุงูู migration
npx prisma migrate dev --name add_is_actual_expense_field

echo ""
echo "๐ ุฌุงุฑู ุฅุนุงุฏุฉ ุชูููุฏ Prisma Client..."
echo ""

# ุฅุนุงุฏุฉ ุชูููุฏ ุงูู Prisma Client
npx prisma generate

echo ""
echo "โ ุชู ุชุทุจูู ุงูุชุญุฏูุซ ุจูุฌุงุญ!"
echo ""
echo "๐ ููุฎุต ุงูุชุบููุฑุงุช:"
echo "  - ุชูุช ุฅุถุงูุฉ ุญูู isActualExpense ุฅูู ุฌุฏูู PurchaseExpense"
echo "  - ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ: true (ูุตุฑูู ูุนูู)"
echo ""
echo "๐ ุดุฑุญ ุงูุฃููุงุน:"
echo "  - ูุตุฑูู ูุนูู (true): ูุณุฌู ูุฏูู ุนูู ุงูููุฑุฏ ููุธูุฑ ูู ูุดู ุญุณุงุจู"
echo "  - ูุตุฑูู ุชูุฏูุฑู (false): ูุฒูุฏ ุชูููุฉ ุงูููุชุฌ ููุทุ ุจุฏูู ุฃุซุฑ ุนูู ุญุณุงุจ ุงูููุฑุฏ"
echo ""


